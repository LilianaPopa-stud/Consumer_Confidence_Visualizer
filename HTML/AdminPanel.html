<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="../CSS/adminPanel.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../Favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../Favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../Favicon/favicon-16x16.png">
    <link rel="manifest" href="../Favicon/site.webmanifest">
    <script type="text/javascript" src="../views/loginAdminView.js"></script>
    <script type="text/javascript" src="../SCRIPTS/admin_utils.js"></script>
    <script>
        window.onload = function() {
            checkAuthentication();
        };

        function checkAuthentication() {
            let token = sessionStorage.getItem("isLoggedIn");
            if (!token || window.location.href.indexOf("AdminPanel.html") === -1) {
                // Utilizatorul nu este autentificat sau nu se aflÄƒ pe pagina Admin Panel
                window.location.replace("https://test-coco-proj.onrender.com/");
            }
        }
    </script>

</head>
<body>
<div class="container">
    <div class="sidebar">
        <h2>Admin Panel</h2>
        <ul>
            <li><a href="#" onclick="showAddCCI()">Add CCI</a></li>
            <li><a href="#" onclick="showDeleteCCI()">Delete CCI</a></li>
            <li><a href="#" onclick="showUpdateCCI()">Update CCI</a></li>
            <li><a href="#" onclick="showExportDatabase()">Export Database</a></li>
        </ul>
        <button class="button" onclick="redirectToCharts()">Back to Charts</button>

    </div>
    <div class="content">
            <div class="welcome">
                <img src="../img/waving-hand.png" alt="Welcome Image">
                <h2>Welcome to the Admin Panel!</h2>
            </div>



        <div id="add-CCI" class="option-content">
            <h3>Add CCI</h3>
            <textarea name="add-CCI" rows="10" cols="50" placeholder="Enter CCI details..."></textarea>
            <button class="button" type="submit" onclick="admin_add_CCI();">Submit</button>
        </div>
        <div id="delete-CCI" class="option-content">
            <h3>Delete CCI</h3>
            <textarea name="delete-CCI" rows="10" cols="50" placeholder="Enter CCI details..."></textarea>
            <button class="button" type="submit" onclick="admin_delete_CCI();">Submit</button>
        </div>
        <div id="update-CCI" class="option-content">
            <h3>Update CCI</h3>
            <textarea name="update-CCI" rows="10" cols="50" placeholder="Enter CCI details..."></textarea>
            <button class="button" type="submit" onclick="admin_update_CCI();">Submit</button>
        </div>
        <div id="export-database" class="option-content">
            <h3>Export Database</h3>
            <button class="button" type="submit" id="export-db"><a href="../consumer_confidence.db" download="database.db">SQLITE
                DB</a></button>
            <button class="button" type="submit" id="export-csv"><a href="../database.csv"
                                                                    download="database.csv">CSV</a></button>

        </div>
    </div>
</div>
<script>
    function showAddCCI() {
        document.querySelector(".welcome").style.display = "none";
        document.getElementById("add-CCI").style.display = "block";
        document.getElementById("delete-CCI").style.display = "none";
        document.getElementById("update-CCI").style.display = "none";
        document.getElementById("export-database").style.display = "none";
    }

    function showDeleteCCI() {
        document.querySelector(".welcome").style.display = "none";
        document.getElementById("add-CCI").style.display = "none";
        document.getElementById("delete-CCI").style.display = "block";
        document.getElementById("update-CCI").style.display = "none";
        document.getElementById("export-database").style.display = "none";
    }

    function showUpdateCCI() {
        document.querySelector(".welcome").style.display = "none";
        document.getElementById("add-CCI").style.display = "none";
        document.getElementById("delete-CCI").style.display = "none";
        document.getElementById("update-CCI").style.display = "block";
        document.getElementById("export-database").style.display = "none";
    }

    function showExportDatabase() {
        document.querySelector(".welcome").style.display = "none";
        document.getElementById("add-CCI").style.display = "none";
        document.getElementById("delete-CCI").style.display = "none";
        document.getElementById("update-CCI").style.display = "none";
        document.getElementById("export-database").style.display = "block";

    }
    function redirectToCharts() {
        window.location.href = "SelectChart.html";
    }


</script>
</body>
</html>
